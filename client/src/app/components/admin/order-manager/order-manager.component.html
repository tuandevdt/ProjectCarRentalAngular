<div class="dataTable-container">
    <h1 class="m-4 font-bold text-2xl">Order Manager</h1>
    <table class="min-w-full bg-white" datatable="" id="products-list">
        <thead class="thead-light">
            <tr>
                <th class="p-2 text-center"><a href="#" class="dataTable-sorter">Product</a></th>
                <th class="text-left"><a href="#" class="dataTable-sorter">Code</a></th>
                <th class="text-left"><a href="#" class="dataTable-sorter">Price</a></th>
                <th class="text-left"><a href="#" class="dataTable-sorter">Start Order</a></th>
                <th class="text-left"><a href="#" class="dataTable-sorter">End Order</a></th>
                <th class="text-center"><a href="#" class="dataTable-sorter">Status</a></th>
                <th class="p-4 text-left"><a href="#" class="dataTable-sorter">Action</a></th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let order of orders" class="odd:bg-blue-50">
                <td>
                    <div class="flex items-center">
                        <img *ngIf="order.product" class="w-14 h-14 mr-4" [src]="order.product.image1"
                            [alt]="order.product.name">
                        <h6 class="my-auto dark:text-white">{{ order.product?.name || 'Product Name' }}</h6>
                    </div>
                </td>
                <td class="text-sm leading-normal">{{ order.code }}</td>
                <td class="text-sm leading-normal">{{ order.formattedSumPrice || '$1,520' }}</td>
                <td class="text-sm leading-normal">{{ order.startDate}} - {{ order.startTime}}</td>
                <td class="text-sm leading-normal">{{ order.endDate }} - {{ order.endTime}}</td>
                <td class="text-center">{{ order.deliveryMethod || 'San Sang' }}</td>
                <td class="p-4">
                    <button (click)="showOrder(order)"
                        class="px-4 py-2 bg-green-600 text-white font-semibold rounded-lg shadow-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50">
                        View More
                    </button>
                </td>

            </tr>

        </tbody>
    </table>

    <div *ngIf="isShowOrder" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40">
        <div class="bg-white rounded-xl shadow-2xl p-8 w-full max-w-2xl mx-auto relative">
            <h2 class="text-2xl font-extrabold text-gray-800 mb-6 border-b pb-4">
                Order Details
            </h2>
    
            <div class="space-y-6">
                <div class="flex items-start justify-between">
                    <!-- Order Information -->
                    <div class="space-y-4">
                        <p><span class="font-semibold text-gray-700">Họ và tên:</span> {{ selectedOrder?.username }}</p>
                        <p><span class="font-semibold text-gray-700">Sđt:</span> {{ selectedOrder?.phone }}</p>
                        <p><span class="font-semibold text-gray-700">Địa chỉ:</span> {{ selectedOrder?.address }}</p>
                        <p><span class="font-semibold text-gray-700">Product:</span> {{ selectedOrder?.product?.name || 'N/A' }}</p>
                        <p><span class="font-semibold text-gray-700">Code:</span> {{ selectedOrder?.code }}</p>
                        <p><span class="font-semibold text-gray-700">Price:</span> {{ selectedOrder?.formattedSumPrice }}</p>
                        <p><span class="font-semibold text-gray-700">Start Order:</span> 
                            {{ selectedOrder?.startDate }} - {{ selectedOrder?.startTime }}
                        </p>
                        <p><span class="font-semibold text-gray-700">End Order:</span> 
                            {{ selectedOrder?.endDate }} - {{ selectedOrder?.endTime }}
                        </p>
                        <p><span class="font-semibold text-gray-700">Status:</span> {{ selectedOrder?.deliveryMethod }}</p>
                    </div>
    
                    <!-- Product Image -->
                    <div class="ml-6">
                        <img class="w-48 h-48 object-cover rounded-md border" 
                             [src]="selectedOrder?.product?.image1" alt="Product Image">
                    </div>
                </div>
            </div>
    
            <!-- Close Button -->
            <button (click)="closeOrderDetails()"
                class="absolute top-4 right-4 px-4 py-2 bg-red-500 text-white text-sm font-bold rounded-full hover:bg-red-600 focus:outline-none">
                ✕
            </button>
        </div>
    </div>
    
</div>